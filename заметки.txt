soWushkA-6240
существует два варианта: *)проверять команду в основном цикле
*) проверять команду в обработчкике прерываний

если проверять команду в цикле, то случится следующее: 
пришла команда, в обработчике прерывания
мы дали переменной какое-то значение, которое используется в кейсе в осн. цикле
далее вышли из обработчика
пошли проверять в цикле значение переменной и исполнять код
если до завершения основного цикла во время исполнения кода придет другая команда, то сразу же 
переменная примет соответствующее значение и во время следующего цикла команда будет исполняться

если пришла одна команда и еще одна команда сразу после первой, то до завершения  осн. цикла 
будет исполнена последняя команда, тк в обработчике значение переменной изменится дважды 

(справедливости ради, это маловероятно) 

также если после установки частоты переменная останется со значением 6, микросхема будет конфигурироваться каждый раз

а нам такого говна не надо. 
что можно сделать в этом случае? обнулять переменные или чето такое

ДЕЛАЕМ В ОБРАБОТЧИКЕ ПРЕРЫВАНИЙ, ПОТОМУ ЧТО ЕГО ИСПОЛНЕНИЕ НИЧЕМУ НЕ МЕШАЕТ, А КОМАНДЫ БУДУТ ИСПОЛНЯТЬСЯ ПО ОДНОМУ РАЗУ:
 ПОСЛЕ ВЫСТАВЛЕНИЯ ФЛАГА COMMAND_RECEIVED

МИНУС В ТОМ, ЧТО ОБРАБОТЧИК НЕ ПРИМЕТ СЛЕДУЮЩУЮ КОМАНДУ ДО ЗАВЕРШЕНИЯ ОБРАБОТКИ ПРЕРЫВАНИЯ 


